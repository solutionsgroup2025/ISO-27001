<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Autoevaluación de Controles ISO 27001:2022</title>
    <style>
        body {
            font-family: 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif;
            line-height: 1.6;
            background-color: #f7f9fc;
            color: #333;
            margin: 0;
        }
        .container {
            max-width: 1100px;
            margin: 20px auto;
            padding: 20px 40px;
        }
        .header {
            background-color: #0d47a1;
            color: #ffffff;
            padding: 25px 40px;
            border-radius: 8px;
            margin-bottom: 30px;
            text-align: center;
        }
        .header .logo {
            max-height: 60px;
            margin-bottom: 15px;
        }
        .header h1 {
            margin: 0;
            font-size: 2em;
        }
        .header p {
            margin: 5px 0 0;
            font-size: 1.1em;
            opacity: 0.9;
        }
        .control-category {
            background-color: #ffffff;
            border-radius: 8px;
            margin-bottom: 25px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.08);
            overflow: hidden;
        }
        .category-summary {
            font-size: 1.4em;
            font-weight: 600;
            padding: 20px;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background-color: #e3f2fd;
            color: #0d47a1;
            border-bottom: 1px solid #bbdefb;
        }
        .category-summary::after {
            content: '▼';
            font-size: 0.8em;
            transition: transform 0.3s;
        }
        details[open] .category-summary::after {
            transform: rotate(180deg);
        }
        .control-item {
            padding: 20px;
            border-bottom: 1px solid #e0e0e0;
        }
        .control-item:last-child {
            border-bottom: none;
        }
        .control-title {
            font-weight: bold;
            font-size: 1.1em;
            color: #1565c0;
        }
        .control-objective {
            font-style: italic;
            color: #555;
            margin-bottom: 15px;
            font-size: 0.95em;
        }
        .form-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            align-items: center;
        }
        .form-group {
            display: flex;
            flex-direction: column;
        }
        .form-group label {
            font-weight: 600;
            margin-bottom: 5px;
            font-size: 0.9em;
        }
        select, input[type="text"], textarea {
            width: 100%;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 5px;
            font-size: 1em;
            box-sizing: border-box;
        }
        textarea {
            resize: vertical;
            min-height: 80px;
        }
        select {
            cursor: pointer;
        }
        .attachment-input {
            display: none; /* Ocultar el input por defecto */
        }
        .attachment-label {
            background-color: #6c757d;
            color: white;
            padding: 8px 12px;
            border-radius: 5px;
            cursor: pointer;
            text-align: center;
            margin-top: 10px;
            display: inline-block;
            font-size: 0.9em;
            transition: background-color 0.3s;
        }
        .attachment-label:hover {
            background-color: #5a6268;
        }
        .status-na { background-color: #f5f5f5; }
        .status-no { background-color: #ffebee; }
        .status-parcial { background-color: #fff9c4; }
        .status-total { background-color: #e8f5e9; }
        
        .submit-container {
            text-align: center;
            margin: 40px 0 20px 0;
        }
        .submit-btn {
            background-color: #1e88e5;
            color: white;
            font-size: 1.2em;
            font-weight: 600;
            padding: 15px 30px;
            border-radius: 8px;
            border: none;
            cursor: pointer;
            transition: background-color 0.3s, transform 0.2s;
        }
        .submit-btn:hover {
            background-color: #1565c0;
            transform: translateY(-2px);
        }

        @media (max-width: 768px) {
            .form-grid {
                grid-template-columns: 1fr;
            }
            .header { padding: 20px; }
            .container { padding: 10px; }
        }
    </style>
</head>
<body>

<div class="container">
    <header class="header">
        <img src="Solutions Group Logo.png" alt="Logo de Solutions Group" class="logo" onerror="this.style.display='none'">
        <h1>Formulario de Autoevaluación de Controles</h1>
        <p>Basado en el Anexo A de la norma ISO/IEC 27001:2022</p>
    </header>

    <form id="selfAssessmentForm" onsubmit="event.preventDefault(); alert('Formulario enviado (simulación).');">
        <!-- A.5 Controles Organizacionales -->
        <details class="control-category" open>
            <summary class="category-summary">A.5 Controles Organizacionales (37 Controles)</summary>
            <div id="category-a5"></div>
        </details>

        <!-- A.6 Controles de Personas -->
        <details class="control-category">
            <summary class="category-summary">A.6 Controles de Personas (8 Controles)</summary>
            <div id="category-a6"></div>
        </details>

        <!-- A.7 Controles Físicos -->
        <details class="control-category">
            <summary class="category-summary">A.7 Controles Físicos (14 Controles)</summary>
            <div id="category-a7"></div>
        </details>

        <!-- A.8 Controles Tecnológicos -->
        <details class="control-category">
            <summary class="category-summary">A.8 Controles Tecnológicos (34 Controles)</summary>
            <div id="category-a8"></div>
        </details>

        <div class="submit-container">
            <button type="submit" class="submit-btn">Enviar Formulario</button>
        </div>
    </form>
</div>

<script>
    const controls = {
        "A.5": [
            { id: "A.5.1", title: "Políticas para la seguridad de la información", objective: "Asegurar que las políticas de seguridad estén definidas, aprobadas, publicadas y comunicadas." },
            { id: "A.5.2", title: "Roles y responsabilidades en seguridad de la información", objective: "Definir y asignar todas las responsabilidades de seguridad de la información." },
            { id: "A.5.3", title: "Segregación de funciones", objective: "Separar funciones conflictivas para reducir el riesgo de fraude o error." },
            { id: "A.5.4", title: "Responsabilidades de la dirección", objective: "Asegurar que la dirección exija a todos los empleados la aplicación de la seguridad de la información." },
            { id: "A.5.5", title: "Contacto con las autoridades", objective: "Mantener contacto apropiado con las autoridades relevantes." },
            { id: "A.5.6", title: "Contacto con grupos de interés especial", objective: "Mantener contacto con grupos de interés especial u otros foros y asociaciones profesionales de seguridad." },
            { id: "A.5.7", title: "Inteligencia de amenazas", objective: "Recopilar y analizar información sobre amenazas para la seguridad de la información." },
            { id: "A.5.8", title: "Seguridad de la información en la gestión de proyectos", objective: "Integrar la seguridad de la información en la gestión de proyectos." },
            { id: "A.5.9", title: "Inventario de información y otros activos asociados", objective: "Mantener un inventario de la información y otros activos asociados." },
            { id: "A.5.10", title: "Uso aceptable de la información y otros activos asociados", objective: "Establecer reglas para el uso aceptable de la información y activos." },
            { id: "A.5.11", title: "Devolución de activos", objective: "Asegurar que los empleados y otras partes devuelvan todos los activos de la organización al finalizar su relación laboral, contractual o de acuerdo." },
            { id: "A.5.12", title: "Clasificación de la información", objective: "Clasificar la información según las necesidades de seguridad." },
            { id: "A.5.13", title: "Etiquetado de la información", objective: "Desarrollar e implementar procedimientos para el etiquetado de la información." },
            { id: "A.5.14", title: "Transferencia de información", objective: "Establecer reglas para la transferencia de información." },
            { id: "A.5.15", title: "Control de acceso", objective: "Limitar el acceso a la información y otros activos asociados." },
            { id: "A.5.16", title: "Gestión de identidades", objective: "Gestionar el ciclo de vida completo de las identidades." },
            { id: "A.5.17", title: "Información de autenticación", objective: "Gestionar la información de autenticación." },
            { id: "A.5.18", title: "Derechos de acceso", objective: "Especificar y gestionar los derechos de acceso." },
            { id: "A.5.19", title: "Seguridad de la información en las relaciones con proveedores", objective: "Proteger los activos de la organización accesibles por los proveedores." },
            { id: "A.5.20", title: "Abordar la seguridad de la información en los acuerdos con proveedores", objective: "Establecer requisitos de seguridad en los acuerdos con proveedores." },
            { id: "A.5.21", title: "Gestión de la seguridad de la información en la cadena de suministro de TIC", objective: "Gestionar los riesgos de seguridad en la cadena de suministro de tecnología de la información y comunicación." },
            { id: "A.5.22", title: "Monitoreo, revisión y gestión de cambios en los servicios de proveedores", objective: "Monitorear, revisar y gestionar los cambios en los servicios de los proveedores." },
            { id: "A.5.23", title: "Seguridad de la información para el uso de servicios en la nube", objective: "Establecer requisitos para la adquisición, uso, gestión y salida de servicios en la nube." },
            { id: "A.5.24", title: "Planificación y preparación de la gestión de incidentes de seguridad de la información", objective: "Planificar y prepararse para la gestión de incidentes." },
            { id: "A.5.25", title: "Evaluación y decisión sobre eventos de seguridad de la información", objective: "Evaluar eventos de seguridad y decidir si son incidentes." },
            { id: "A.5.26", title: "Respuesta a incidentes de seguridad de la información", objective: "Responder a los incidentes de seguridad de la información." },
            { id: "A.5.27", title: "Aprender de los incidentes de seguridad de la información", objective: "Utilizar el conocimiento obtenido de los incidentes para fortalecer la seguridad." },
            { id: "A.5.28", title: "Recopilación de evidencia", objective: "Establecer y aplicar procedimientos para la identificación, recopilación, adquisición y preservación de evidencia." },
            { id: "A.5.29", title: "Seguridad de la información durante la interrupción", objective: "Asegurar la seguridad de la información durante las interrupciones." },
            { id: "A.5.30", title: "Continuidad del negocio y de las TIC para la resiliencia", objective: "Asegurar la disponibilidad de la información y otros activos durante una interrupción." },
            { id: "A.5.31", title: "Identificación de requisitos legales, estatutarios, regulatorios y contractuales", objective: "Identificar y documentar los requisitos legales, regulatorios y contractuales." },
            { id: "A.5.32", title: "Derechos de propiedad intelectual", objective: "Proteger los derechos de propiedad intelectual." },
            { id: "A.5.33", title: "Protección de registros", objective: "Proteger los registros contra pérdida, destrucción, falsificación, acceso no autorizado y publicación no autorizada." },
            { id: "A.5.34", title: "Privacidad y protección de la información de identificación personal (PII)", objective: "Asegurar la privacidad y protección de la PII." },
            { id: "A.5.35", title: "Revisión independiente de la seguridad de la información", objective: "Asegurar la revisión independiente de la implementación y operación de la seguridad." },
            { id: "A.5.36", title: "Cumplimiento con políticas, reglas y estándares para la seguridad de la información", objective: "Asegurar el cumplimiento con las políticas y estándares de seguridad." },
            { id: "A.5.37", title: "Procedimientos operativos documentados", objective: "Documentar y mantener los procedimientos operativos." }
        ],
        "A.6": [
            { id: "A.6.1", title: "Selección (Screening)", objective: "Verificar los antecedentes de todos los candidatos a ser empleados." },
            { id: "A.6.2", title: "Términos y condiciones de empleo", objective: "Incluir responsabilidades de seguridad en los acuerdos contractuales." },
            { id: "A.6.3", title: "Concienciación, educación y formación en seguridad de la información", objective: "Proporcionar a los empleados la concienciación y formación adecuadas." },
            { id: "A.6.4", title: "Proceso disciplinario", objective: "Establecer un proceso formal para tomar acciones contra empleados que cometan una violación de seguridad." },
            { id: "A.6.5", title: "Responsabilidades después de la terminación o cambio de empleo", objective: "Gestionar las responsabilidades de seguridad después de la terminación o cambio de empleo." },
            { id: "A.6.6", title: "Acuerdos de confidencialidad o no divulgación", objective: "Utilizar acuerdos de confidencialidad para proteger la información." },
            { id: "A.6.7", title: "Teletrabajo", objective: "Asegurar que el acceso remoto a la información sea seguro." },
            { id: "A.6.8", title: "Reporte de eventos de seguridad de la información", objective: "Requerir a los empleados que reporten los eventos de seguridad tan pronto como sea posible." }
        ],
        "A.7": [
            { id: "A.7.1", title: "Perímetros de seguridad física", objective: "Definir y utilizar perímetros de seguridad para proteger áreas que contienen información sensible." },
            { id: "A.7.2", title: "Controles de entrada física", objective: "Asegurar las áreas seguras con controles de entrada apropiados." },
            { id: "A.7.3", title: "Seguridad de oficinas, despachos e instalaciones", objective: "Diseñar e implementar seguridad física para oficinas, despachos e instalaciones." },
            { id: "A.7.4", title: "Monitoreo de la seguridad física", objective: "Monitorear continuamente las instalaciones para detectar accesos no autorizados." },
            { id: "A.7.5", title: "Protección contra amenazas físicas y ambientales", objective: "Proteger contra amenazas físicas como desastres naturales, incendios, etc." },
            { id: "A.7.6", title: "Trabajo en áreas seguras", objective: "Establecer y aplicar procedimientos para trabajar en áreas seguras." },
            { id: "A.7.7", title: "Escritorio y pantalla limpios", objective: "Adoptar una política de escritorio limpio para papeles y medios de almacenamiento extraíbles y una política de pantalla limpia." },
            { id: "A.7.8", title: "Ubicación y protección de equipos", objective: "Ubicar y proteger los equipos para reducir los riesgos de amenazas ambientales y acceso no autorizado." },
            { id: "A.7.9", title: "Seguridad de los activos fuera de las instalaciones", objective: "Asegurar los activos que se utilizan fuera de las instalaciones de la organización." },
            { id: "A.7.10", title: "Medios de almacenamiento", objective: "Gestionar los medios de almacenamiento para prevenir la divulgación no autorizada, modificación o destrucción de activos." },
            { id: "A.7.11", title: "Suministros de apoyo (Utilities)", objective: "Proteger los equipos de fallas de energía y otras interrupciones causadas por fallas en los suministros de apoyo." },
            { id: "A.7.12", title: "Seguridad del cableado", objective: "Proteger el cableado de energía y telecomunicaciones contra intercepción o daño." },
            { id: "A.7.13", title: "Mantenimiento de los equipos", objective: "Realizar el mantenimiento correcto de los equipos para asegurar su disponibilidad e integridad." },
            { id: "A.7.14", title: "Eliminación segura de activos", objective: "Verificar que los equipos que contienen medios de almacenamiento se limpien de forma segura antes de su eliminación." }
        ],
        "A.8": [
            { id: "A.8.1", title: "Dispositivos de punto final del usuario (Endpoints)", objective: "Proteger la información almacenada en los dispositivos de usuario." },
            { id: "A.8.2", title: "Derechos de acceso privilegiado", objective: "Restringir y controlar la asignación y uso de derechos de acceso privilegiado." },
            { id: "A.8.3", title: "Restricción de acceso a la información", objective: "Restringir el acceso a la información y funciones del sistema de acuerdo con la política de control de acceso." },
            { id: "A.8.4", title: "Acceso al código fuente", objective: "Asegurar el acceso al código fuente de software." },
            { id: "A.8.5", title: "Autenticación segura", objective: "Asegurar que los usuarios estén autenticados de forma segura." },
            { id: "A.8.6", title: "Capacidad de gestión", objective: "Gestionar la capacidad de los recursos para asegurar el rendimiento requerido." },
            { id: "A.8.7", title: "Protección contra malware", objective: "Implementar protección contra malware y asegurar que los usuarios estén informados." },
            { id: "A.8.8", title: "Gestión de vulnerabilidades técnicas", objective: "Obtener información oportuna sobre vulnerabilidades técnicas y tomar medidas apropiadas." },
            { id: "A.8.9", title: "Gestión de la configuración", objective: "Establecer, documentar, implementar, monitorear y revisar las configuraciones de seguridad." },
            { id: "A.8.10", title: "Eliminación de la información", objective: "Eliminar la información de forma segura cuando ya no se necesite." },
            { id: "A.8.11", title: "Enmascaramiento de datos", objective: "Utilizar el enmascaramiento de datos para limitar la exposición de datos sensibles." },
            { id: "A.8.12", title: "Prevención de fuga de datos (DLP)", objective: "Aplicar medidas de prevención de fuga de datos a los sistemas que procesan información sensible." },
            { id: "A.8.13", title: "Copia de seguridad de la información (Backup)", objective: "Realizar copias de seguridad regulares de la información, software e imágenes del sistema." },
            { id: "A.8.14", title: "Redundancia de los recursos de procesamiento de información", objective: "Asegurar la disponibilidad de los recursos de procesamiento de información." },
            { id: "A.8.15", title: "Registro (Logging)", objective: "Producir, almacenar, proteger y analizar registros de actividad." },
            { id: "A.8.16", title: "Monitoreo de actividades", objective: "Monitorear los sistemas y redes para detectar comportamientos anómalos." },
            { id: "A.8.17", title: "Sincronización de relojes", objective: "Sincronizar los relojes de todos los sistemas relevantes con una fuente de tiempo precisa." },
            { id: "A.8.18", title: "Uso de programas de utilidad privilegiados", objective: "Restringir el uso de programas de utilidad que puedan anular los controles del sistema." },
            { id: "A.8.19", title: "Instalación de software en sistemas operativos", objective: "Controlar la instalación de software en los sistemas." },
            { id: "A.8.20", title: "Seguridad de las redes", objective: "Gestionar y controlar las redes para proteger la información." },
            { id: "A.8.21", title: "Seguridad de los servicios de red", objective: "Asegurar la seguridad de los servicios de red." },
            { id: "A.8.22", title: "Segregación de redes", objective: "Segregar grupos de servicios de información, usuarios y sistemas de información en las redes." },
            { id: "A.8.23", title: "Filtrado web", objective: "Gestionar el acceso a sitios web externos para reducir la exposición a contenido malicioso." },
            { id: "A.8.24", title: "Uso de criptografía", objective: "Establecer y aplicar una política sobre el uso de controles criptográficos." },
            { id: "A.8.25", title: "Ciclo de vida del desarrollo seguro", objective: "Establecer y aplicar reglas para el desarrollo seguro de software y sistemas." },
            { id: "A.8.26", title: "Requisitos de seguridad de las aplicaciones", objective: "Documentar y aprobar los requisitos de seguridad de la información para nuevas aplicaciones o mejoras." },
            { id: "A.8.27", "title": "Principios de arquitectura e ingeniería de sistemas seguros", objective: "Establecer, documentar, mantener y aplicar principios para la ingeniería de sistemas seguros." },
            { id: "A.8.28", title: "Codificación segura", objective: "Aplicar principios de codificación segura en el desarrollo de software." },
            { id: "A.8.29", title: "Pruebas de seguridad en el desarrollo y la aceptación", objective: "Realizar pruebas de seguridad durante todo el ciclo de vida del desarrollo." },
            { id: "A.8.30", title: "Desarrollo externalizado", objective: "Supervisar y monitorear la actividad de desarrollo de software externalizado." },
            { id: "A.8.31", title: "Separación de entornos de desarrollo, prueba y producción", objective: "Separar los entornos de desarrollo, prueba y producción." },
            { id: "A.8.32", title: "Gestión del cambio", objective: "Gestionar los cambios de manera que se asegure la integridad de la seguridad de la información." },
            { id: "A.8.33", title: "Información de prueba", objective: "Seleccionar, proteger y utilizar cuidadosamente la información de prueba." },
            { id: "A.8.34", title: "Protección de los sistemas de información durante las pruebas de auditoría", objective: "Planificar y acordar las pruebas de auditoría para minimizar el impacto en los sistemas de producción." }
        ]
    };

    function createControlHTML(control) {
        const controlId = control.id.replace(/\./g, '-');
        return `
            <div class="control-item" id="item-${controlId}">
                <p class="control-title">${control.id} - ${control.title}</p>
                <p class="control-objective">${control.objective}</p>
                <div class="form-grid">
                    <div class="form-group">
                        <label for="status-${controlId}">Estado de Cumplimiento</label>
                        <select id="status-${controlId}" name="status-${controlId}" onchange="updateColor(this)">
                            <option value="na" class="status-na">No Aplica</option>
                            <option value="no" class="status-no">No Implementado</option>
                            <option value="parcial" class="status-parcial">Parcialmente Implementado</option>
                            <option value="total" class="status-total" selected>Totalmente Implementado</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="owner-${controlId}">Responsable</label>
                        <input type="text" id="owner-${controlId}" name="owner-${controlId}" placeholder="Ej: Jefe de TI">
                    </div>
                </div>
                <div class="form-group" style="margin-top: 15px;">
                    <label for="evidence-${controlId}">Evidencia / Comentarios</label>
                    <textarea id="evidence-${controlId}" name="evidence-${controlId}" placeholder="Describa cómo se cumple el control, liste documentos, políticas, o justifique por qué no aplica."></textarea>
                    <label for="attachment-${controlId}" class="attachment-label">📎 Adjuntar Evidencia</label>
                    <input type="file" id="attachment-${controlId}" name="attachment-${controlId}" class="attachment-input" multiple>
                </div>
            </div>
        `;
    }

    function renderControls() {
        for (const category in controls) {
            const categoryId = `category-${category.toLowerCase().replace('.', '')}`;
            const container = document.getElementById(categoryId);
            if (container) {
                let html = '';
                controls[category].forEach(control => {
                    html += createControlHTML(control);
                });
                container.innerHTML = html;
            } else {
                console.error(`Error: Contenedor con ID '${categoryId}' no fue encontrado.`);
            }
        }
        document.querySelectorAll('select').forEach(select => updateColor(select));
    }

    function updateColor(selectElement) {
        const selectedOption = selectElement.options[selectElement.selectedIndex];
        selectElement.className = selectedOption.className;
    }

    document.addEventListener('DOMContentLoaded', renderControls);
</script>

</body>
</html>